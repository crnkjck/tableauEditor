<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charSet="utf-8"/>
    <title>Tableau Editor</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.3/css/all.css">
    <link rel="stylesheet" href="static/main.css">
    <script type="text/javascript" src="Editor.js"></script>
  </head>
  <body>
    <div id="main"></div>
    <script type="text/javascript">
        var cachedTableau = localStorage.getItem('tableauEditor');
        var app = Elm.Editor.init({
          node: document.getElementById('main'),
          flags: cachedTableau ? cachedTableau : null
        });
        app.ports.print.subscribe(function () {
          window.print();
        });
        app.ports.cache.subscribe(function (tableau) {
          localStorage.setItem('tableauEditor', tableau);
        });
    </script>
  </body>
</html>
